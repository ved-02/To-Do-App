<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <meta name="google-signin-client_id"
        content="1021037219220-poi9r0s5jevhr9nkbn7bqleotolfildo.apps.googleusercontent.com"> <!-- CLIENT_ID -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--BOOTSTRAP CSS  -->
    <link rel="stylesheet" href="/index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <title>To Do App</title>
</head>

<body class="body">
    <nav class="navbar bg-info">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">To Do App</span>
        </div>
    </nav>
    <div class="card text-center">
        <div class="card-header bg-info">
            Log In here to boost your productivity
        </div>
        <div class="card-body">
            <h5 class="card-title">TO DO APP</h5>
            <p class="card-text">continue using the app with your google account.</p>
            <script>
                function handleCredentialResponse(response) {
                    const id_token = response.credential;
                    var xhr = new XMLHttpRequest();
                    xhr.open('POST', '/account/login');
                    xhr.setRequestHeader('Content-Type', 'application/json');
                    xhr.onload = function () {
                        console.log(xhr.responseText);
                        if (xhr.responseText == "success") {
                            location.assign("/account/dashboard");
                        }
                    };
                    xhr.send(JSON.stringify({ token: id_token, formData: "form" }));
                }
                window.onload = function () {
                    google.accounts.id.initialize({
                        client_id: "1021037219220-poi9r0s5jevhr9nkbn7bqleotolfildo.apps.googleusercontent.com", //CLIENT_ID
                        callback: handleCredentialResponse
                    });
                    google.accounts.id.renderButton(
                        document.getElementById("buttonDiv"),
                        { theme: "outline", size: "large" }  // customization attributes
                    );
                    google.accounts.id.prompt(); // also display the One Tap dialog
                }
            </script>
            <div id="buttonDiv" class="btn"></div>
        </div>
        <!-- <div class="card-footer bg-info text-muted"> -->
        <!-- </div> -->
    </div>
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        <p class="col-md-4 mb-0 text-muted">&copy; Ved</p>

        <a href="/"
            class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
            <svg class="bi me-2" width="40" height="32">
                <use xlink:href="#bootstrap" />
            </svg>
        </a>

        <ul class="nav col-md-4 justify-content-end">
            <li class="nav-item"><a href="https://github.com/ved-02" class="nav-link px-2 text-muted">GitHub</a></li>
            <li class="nav-item"><a href="https://twitter.com/veedTiwari" class="nav-link px-2 text-muted">Twitter</a></li>
            <li class="nav-item"><a href="https://www.linkedin.com/in/ved-prakash-t-40a421200/" class="nav-link px-2 text-muted">LinkedIn</a></li>
        </ul>
    </footer>
    <!-- BOOTSTRAP JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</body>

</html>